@import 'tailwindcss';

@plugin "@tailwindcss/typography";

/* ==========================================================================
   COLOR SCHEME & DARK MODE SUPPORT
   Uses CSS light-dark() function for automatic OS preference matching
   ========================================================================== */

html {
  color-scheme: light dark;
}

/* Force light mode when data-theme="light" */
html[data-theme="light"] {
  color-scheme: light;
}

/* Force dark mode when data-theme="dark" */
html[data-theme="dark"] {
  color-scheme: dark;
}

/* Semantic color variables - Light mode defaults */
:root {
  /* Layout variables */
  --container-gutter: 6vw;
  --container-max-width: 90rem;

  /* Primary semantic colors */
  --primary-background: #ffffff;
  --primary-foreground: #1d1c1a;
  --primary-border: #cccabf;

  /* Secondary background (Light Gray in Mast) */
  --secondary-background: #f0eee6;

  /* Muted/secondary backgrounds */
  --muted-background: #f0eee6;
  --muted-foreground: #6b6961;

  /* Card backgrounds */
  --card-background: #ffffff;
  --card-foreground: #1d1c1a;
  --card-border: #e5e3db;

  /* Input/form elements */
  --input-background: #ffffff;
  --input-border: #cccabf;

  /* Footer specific */
  --footer-background: #ffffff;
  --footer-border: #e5e3db;
}

/* Dark mode overrides - matches OS preference */
@media (prefers-color-scheme: dark) {
  :root:not([data-theme="light"]) {
    --primary-background: #1d1c1a;
    --primary-foreground: #ffffff;
    --primary-border: #474641;

    --secondary-background: #292825;

    --muted-background: #292825;
    --muted-foreground: #9a9890;

    --card-background: #292825;
    --card-foreground: #ffffff;
    --card-border: #353430;

    --input-background: #292825;
    --input-border: #474641;

    --footer-background: #1d1c1a;
    --footer-border: #353430;
  }
}

/* Force dark mode when data-theme="dark" */
html[data-theme="dark"] {
  --primary-background: #1d1c1a;
  --primary-foreground: #ffffff;
  --primary-border: #474641;

  --secondary-background: #292825;

  --muted-background: #292825;
  --muted-foreground: #9a9890;

  --card-background: #292825;
  --card-foreground: #ffffff;
  --card-border: #353430;

  --input-background: #292825;
  --input-border: #474641;

  --footer-background: #1d1c1a;
  --footer-border: #353430;
}

/* Apply semantic colors to base elements */
html {
  background-color: var(--primary-background);
  color: var(--primary-foreground);
}

/* ==========================================================================
   PROSE TYPOGRAPHY OVERRIDES
   Make prose inherit text color from parent for theme compatibility
   ========================================================================== */
.prose {
  --tw-prose-body: inherit;
  --tw-prose-headings: inherit;
  --tw-prose-lead: inherit;
  --tw-prose-bold: inherit;
  --tw-prose-counters: inherit;
  --tw-prose-bullets: inherit;
  color: inherit;
}

/* ==========================================================================
   CONTAINER SYSTEM (Mast-style)
   Uses min() function: container is either max-width OR viewport minus gutters
   This creates the gutter effect without needing padding
   ========================================================================== */
@utility container {
  width: 100%;
  max-width: min(calc(100% - var(--container-gutter) * 2), var(--container-max-width));
  margin-left: auto;
  margin-right: auto;
}

/* ==========================================================================
   FLUID TYPOGRAPHY SYSTEM (Mast-style)
   Uses CSS clamp() for smooth scaling between viewport widths 20rem - 90rem
   ========================================================================== */

/* Heading utilities */
@utility text-h1 {
  font-size: clamp(2.8rem, calc(2.03rem + 3.86vw), 5.5rem);
  line-height: 1;
  font-weight: 500;
  letter-spacing: -0.02em;
}

@utility text-h2 {
  font-size: clamp(2rem, calc(1.49rem + 2.57vw), 3.8rem);
  line-height: 1.1;
  font-weight: 500;
  letter-spacing: -0.02em;
}

@utility text-h3 {
  font-size: clamp(1.5rem, calc(1.27rem + 1.14vw), 2.3rem);
  line-height: 1.2;
  font-weight: 500;
  letter-spacing: 0;
}

@utility text-h4 {
  font-size: clamp(1.3rem, calc(1.24rem + 0.29vw), 1.5rem);
  line-height: 1.4;
  font-weight: 500;
  letter-spacing: 0;
}

@utility text-h5 {
  font-size: clamp(1.1rem, calc(1.07rem + 0.14vw), 1.2rem);
  line-height: 1.4;
  font-weight: 500;
  letter-spacing: 0;
}

@utility text-h6 {
  font-size: clamp(0.9rem, calc(0.87rem + 0.14vw), 1rem);
  line-height: 1.4;
  font-weight: 500;
  letter-spacing: 0;
}

/* Paragraph utilities */
@utility text-p-xl {
  font-size: clamp(1.2rem, calc(1.11rem + 0.43vw), 1.5rem);
  line-height: 1.4;
  font-weight: 400;
  letter-spacing: 0;
}

@utility text-p-lg {
  font-size: clamp(1.1rem, calc(1.06rem + 0.21vw), 1.25rem);
  line-height: 1.5;
  font-weight: 400;
  letter-spacing: 0;
}

@utility text-body {
  font-size: clamp(0.9rem, calc(0.87rem + 0.14vw), 1rem);
  line-height: 1.6;
  font-weight: 400;
  letter-spacing: 0;
}

@utility text-p-sm {
  font-size: clamp(0.8rem, calc(0.77rem + 0.14vw), 0.9rem);
  line-height: 1.5;
  font-weight: 400;
  letter-spacing: 0;
}

@theme {
  --shadow-layer: 0 35px 60px -15px rgba(0, 0, 0, 0.3);

  /* ==========================================================================
     MAST COLOR PALETTE
     ========================================================================== */

  /* Neutral colors */
  --color-white: #ffffff;
  --color-black: #1d1c1a;
  --color-dark-gray: #292825;
  --color-light-gray: #f0eee6;
  --color-mid-gray-1: #cccabf;
  --color-mid-gray-2: #474641;

  /* Primary colors */
  --color-brand: #d14424;
  --color-brand-dark: #9c331b;

  /* Secondary colors */
  --color-yellow: #f8d47a;
  --color-blue: #0073e6;

  /* Gray scale (mapped for compatibility) */
  --color-gray-50: #f0eee6;
  --color-gray-100: #e5e3db;
  --color-gray-200: #d4d2c8;
  --color-gray-300: #cccabf;
  --color-gray-400: #9a9890;
  --color-gray-500: #6b6961;
  --color-gray-600: #474641;
  --color-gray-700: #353430;
  --color-gray-800: #292825;
  --color-gray-900: #1d1c1a;
  --color-gray-950: #141311;

  /* ==========================================================================
     TYPOGRAPHY
     ========================================================================== */
  --font-display: var(--font-general-sans), 'General Sans', Arial, sans-serif;
  --font-sans: var(--font-general-sans), 'General Sans', Arial, sans-serif;

  --default-transition-duration: 250ms;

  /* shadcn/ui compatible radius */
  --radius: 0.5rem;
}

/* shadcn/ui CSS variables for light mode */
:root {
  --background: 0 0% 100%;
  --foreground: 222.2 84% 4.9%;
  --card: 0 0% 100%;
  --card-foreground: 222.2 84% 4.9%;
  --popover: 0 0% 100%;
  --popover-foreground: 222.2 84% 4.9%;
  --primary: 222.2 47.4% 11.2%;
  --primary-foreground: 210 40% 98%;
  --secondary: 210 40% 96.1%;
  --secondary-foreground: 222.2 47.4% 11.2%;
  --muted: 210 40% 96.1%;
  --muted-foreground: 215.4 16.3% 46.9%;
  --accent: 210 40% 96.1%;
  --accent-foreground: 222.2 47.4% 11.2%;
  --destructive: 0 84.2% 60.2%;
  --destructive-foreground: 210 40% 98%;
  --border: 214.3 31.8% 91.4%;
  --input: 214.3 31.8% 91.4%;
  --ring: 222.2 84% 4.9%;
}
